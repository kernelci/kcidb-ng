# kcidb-rest interface workers

services:
  kcidb-rest:
    build:
      context: .
      dockerfile: Dockerfile.kcidb-rest-rs
    env_file:
      - .env
    ports:
      - "3000:3000"
    volumes:
      - ./spool:/app/spool
    restart: unless-stopped
  ingester:
    build:
      context: .
      dockerfile: Dockerfile.ingester
    env_file:
      - .env
    volumes:
      - ./spool:/app/spool
    command: ["python", "/app/ingester_poc.py", "--spool-dir", "/app/spool"]
    restart: unless-stopped
